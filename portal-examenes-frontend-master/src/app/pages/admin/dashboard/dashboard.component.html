<div id = "main-continer">
  <div id = "overlay">
    <ng-container *ngIf="usuarioActual.rolAsignado === 'ADMIN'">
    <button class = "css-button-3d--blue2"(click)="vistaUsuario()">Vista usuario</button>
  </ng-container>
  </div>
  <!--<ng-container *ngIf="usuarioActual.rolAsignado === 'ADMIN'">-->
    <div class="contenedor">
    <h1 class="Nombre-titulo">Bienvenido {{ usuarioActual.nombre }},{{ usuarioActual.apellido }}</h1>


    <form (ngSubmit)="buscar()">
      <input  type="text" [(ngModel)]="terminoBusqueda" name="terminoBusqueda" placeholder="Buscar...">
      <button class="css-button-3d--blue" type="submit">Buscar usuario</button>
    </form>
  </div>

    <ul>
      <li *ngFor="let resultado of resultados">{{resultado.nombre}} {{resultado.apellido}} | Rol asignado: {{resultado.rolAsignado}}</li>
    </ul>

    <ng-container *ngIf="usuarioActual.rolAsignado === 'ADMIN'">
    <div class="contenedor">
  <p class="titulo-tabla">Administradores:</p>
  <div style="text-align: right"><button (click)="mostrarTablaAdministradores()" class="css-button-3d--blue--ocultar">Ocultar</button></div>
    </div>
<table class="center" *ngIf="mostrarTablaAdmin">
  <thead>
    <tr>
      <th>Correo electrónico</th>
      <th>Nombre de Usuario</th>
      <th>Nombre</th>
      <th>Apellido</th>
      <th>Telefono</th>
      <th>Cargo</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let usuario of usuarios">
      <ng-container *ngIf="(usuario.rolAsignado === 'ADMIN'  || usuario.rolAsignado === 'VICERRECTOR' ) && usuario.username !== usuarioActual.username">
        <td>{{ usuario.email }}</td>
        <td>{{ usuario.username }}</td>
        <td>{{ usuario.nombre }}</td>
        <td>{{ usuario.apellido }}</td>
        <td>{{ usuario.telefono }}</td>
        <td>{{usuario.rolAsignado}}</td>
        <button (click)="verDetallesUsuario(usuario.id)" class="css-button-3d--blue">Editar</button>
            <button *ngIf="!usuario.confirmacionEliminacion" (click)="usuario.confirmacionEliminacion = true" class="css-button-3d--gray" style="margin-left: 10px">Eliminar</button>

            <div *ngIf="usuario.confirmacionEliminacion" class="confirmacion-eliminacion">
              <p>¿Estás seguro que deseas eliminar a {{ usuario.nombre }}?</p>
              <button (click)="eliminarUsuario(usuario.id); usuario.confirmacionEliminacion = false" class="css-button-3d--gray">Sí, eliminar</button>
              <button (click)="usuario.confirmacionEliminacion = false" class="css-button-3d--blue">Cancelar</button>
            </div>
      </ng-container>
    </tr>
  </tbody>
</table>
    </ng-container>



    <ng-container *ngIf="usuarioActual.rolAsignado === 'ADMIN' || usuarioActual.rolAsignado === 'RESPONSABLESEDE' || usuarioActual.rolAsignado === 'VICERRECTOR' || usuarioActual.rolAsignado === 'VOCAL'">
  <div class="contenedor">
  <p class="titulo-tabla">VIGILANTE:   </p>

    <button (click)="alternarTablaVigilantes()" class="css-button-3d--blue--ocultar">Ocultar</button>
    </div>


  <table class="center" *ngIf="mostrarTablaVigiantes">
    <thead>
      <tr>
        <th >Correo electrónico</th>
        <th >Nombre de Usuario</th>
        <th >Nombre</th>
        <th >Apellido</th>
        <th >Telefono</th>
        <th >Rol Asignado</th>
        <th ></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let usuario of usuarios">
        <ng-container *ngIf="usuario.rolAsignado === 'VIGILANTE' ">
          <td>{{ usuario.email }}</td>
          <td>{{ usuario.username }}</td>
          <td>{{ usuario.nombre }}</td>
          <td>{{ usuario.apellido }}</td>
          <td>{{ usuario.telefono }}</td>
          <td>{{ usuario.rolAsignado }}</td>
          <td>
            <button (click)="verDetallesUsuario(usuario.id)" class="css-button-3d--blue">Editar</button>
            <button *ngIf="!usuario.confirmacionEliminacion" (click)="usuario.confirmacionEliminacion = true" class="css-button-3d--gray" style="margin-left: 10px">Eliminar</button>

            <div *ngIf="usuario.confirmacionEliminacion" class="confirmacion-eliminacion">
              <p>¿Estás seguro que deseas eliminar a {{ usuario.nombre }}?</p>
              <button (click)="eliminarUsuario(usuario.id); usuario.confirmacionEliminacion = false" class="css-button-3d--gray">Sí, eliminar</button>
              <button (click)="usuario.confirmacionEliminacion = false" class="css-button-3d--blue">Cancelar</button>
            </div>
          </td>
        </ng-container>
      </tr>
    </tbody>
  </table>
</ng-container>

<ng-container *ngIf="usuarioActual.rolAsignado === 'ADMIN' || usuarioActual.rolAsignado === 'VICERRECTOR' ">

  <div class="contenedor">
    <p class="titulo-tabla">Personal del Servicio de Acceso del Vicerrectorado de Estudiantes y Deportes:   </p>

    <button (click)="alternarTablaPServicio()" class="css-button-3d--blue--ocultar">Ocultar</button>
    </div>


  <table class="center" *ngIf="mostrarTablaPServicio">
    <thead>
      <tr>
        <th >Correo electrónico</th>
        <th >Nombre de Usuario</th>
        <th >Nombre</th>
        <th >Apellido</th>
        <th >Telefono</th>
        <th >Rol Asignado</th>
        <th ></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let usuario of usuarios">
        <ng-container *ngIf="usuario.rolAsignado === 'PSERVICIO' ">
          <td>{{ usuario.email }}</td>
          <td>{{ usuario.username }}</td>
          <td>{{ usuario.nombre }}</td>
          <td>{{ usuario.apellido }}</td>
          <td>{{ usuario.telefono }}</td>
          <td>Personal del servicio de acceso</td>
          <td>
            <button (click)="verDetallesUsuario(usuario.id)" class="css-button-3d--blue">Editar</button>
            <button *ngIf="!usuario.confirmacionEliminacion" (click)="usuario.confirmacionEliminacion = true" class="css-button-3d--gray" style="margin-left: 10px">Eliminar</button>

            <div *ngIf="usuario.confirmacionEliminacion" class="confirmacion-eliminacion">
              <p>¿Estás seguro que deseas eliminar a {{ usuario.nombre }}?</p>
              <button (click)="eliminarUsuario(usuario.id); usuario.confirmacionEliminacion = false" class="css-button-3d--gray">Sí, eliminar</button>
              <button (click)="usuario.confirmacionEliminacion = false" class="css-button-3d--blue">Cancelar</button>
            </div>
          </td>
        </ng-container>
      </tr>
    </tbody>
  </table>
</ng-container>


<ng-container *ngIf="usuarioActual.rolAsignado === 'ADMIN' || usuarioActual.rolAsignado === 'RESPONSABLESEDE' || usuarioActual.rolAsignado === 'VICERRECTOR'">

    <div class="contenedor">
    <p class="titulo-tabla">Vocal:   </p>
    <button (click)="alternarTablaVocal()" class="css-button-3d--blue--ocultar">Ocultar</button>
    </div>


  <table class="center" *ngIf="mostrarTablaVocal">
    <thead>
      <tr>
        <th >Correo electrónico</th>
        <th >Nombre de Usuario</th>
        <th >Nombre</th>
        <th >Apellido</th>
        <th >Telefono</th>
        <th >Cargo</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let usuario of usuarios">
        <ng-container *ngIf="usuario.rolAsignado === 'VOCAL' ">
          <td>{{ usuario.email }}</td>
          <td>{{ usuario.username }}</td>
          <td>{{ usuario.nombre }}</td>
          <td>{{ usuario.apellido }}</td>
          <td>{{ usuario.telefono }}</td>
          <td>Vocal</td>
          <td>
            <button (click)="verDetallesUsuario(usuario.id)" class="css-button-3d--blue">Editar</button>
            <button *ngIf="!usuario.confirmacionEliminacion" (click)="usuario.confirmacionEliminacion = true" class="css-button-3d--gray" style="margin-left: 10px">Eliminar</button>

            <div *ngIf="usuario.confirmacionEliminacion" class="confirmacion-eliminacion">
              <p>¿Estás seguro que deseas eliminar a {{ usuario.nombre }}?</p>
              <button (click)="eliminarUsuario(usuario.id); usuario.confirmacionEliminacion = false" class="css-button-3d--gray">Sí, eliminar</button>
              <button (click)="usuario.confirmacionEliminacion = false" class="css-button-3d--blue">Cancelar</button>
            </div>
          </td>
        </ng-container>
      </tr>
    </tbody>
  </table>
</ng-container>

<ng-container *ngIf="usuarioActual.rolAsignado === 'ADMIN' || usuarioActual.rolAsignado === 'PSERVICIO' || usuarioActual.rolAsignado === 'VICERRECTOR'">

    <div class="contenedor">
    <p class="titulo-tabla">Responsables de sedes:   </p>
    <button (click)="alternarTablaRSEDES()" class="css-button-3d--blue--ocultar">Ocultar</button>
    </div>


  <table class="center" *ngIf="mostrarTablaRSEDES">
    <thead>
      <tr>
        <th >Correo electrónico</th>
        <th >Nombre de Usuario</th>
        <th >Nombre</th>
        <th >Apellido</th>
        <th >Telefono</th>
        <th>Cargo</th>
        <th ></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let usuario of usuarios">
        <ng-container *ngIf="usuario.rolAsignado === 'RESPONSABLESEDE' ">
          <td>{{ usuario.email }}</td>
          <td>{{ usuario.username }}</td>
          <td>{{ usuario.nombre }}</td>
          <td>{{ usuario.apellido }}</td>
          <td>{{ usuario.telefono }}</td>
          <th>Responsable de sede</th>
          <td>
            <button (click)="verDetallesUsuario(usuario.id)" class="css-button-3d--blue">Editar</button>
            <button *ngIf="!usuario.confirmacionEliminacion" (click)="usuario.confirmacionEliminacion = true" class="css-button-3d--gray" style="margin-left: 10px">Eliminar</button>

            <div *ngIf="usuario.confirmacionEliminacion" class="confirmacion-eliminacion">
              <p>¿Estás seguro que deseas eliminar a {{ usuario.nombre }}?</p>
              <button (click)="eliminarUsuario(usuario.id); usuario.confirmacionEliminacion = false" class="css-button-3d--gray">Sí, eliminar</button>
              <button (click)="usuario.confirmacionEliminacion = false" class="css-button-3d--blue">Cancelar</button>
            </div>
          </td>
        </ng-container>
      </tr>
    </tbody>
  </table>
</ng-container>

  <ng-container *ngIf="usuarioActual.rolAsignado === 'ADMIN' || usuarioActual.rolAsignado === 'PSERVICIO' || usuarioActual.rolAsignado === 'VICERRECTOR' || usuarioActual.rolAsignado === 'RESPONSABLESEDE'">

  <div class="contenedor">
  <p class="titulo-tabla">Responsables de aula:   </p>
    <button (click)="alternarTablaRAULA()" class="css-button-3d--blue--ocultar">Ocultar</button>
    </div>


  <table class="center" *ngIf="mostrarTablaRAULA">
    <thead>
      <tr>
        <th >Correo electrónico</th>
        <th >Nombre de Usuario</th>
        <th >Nombre</th>
        <th >Apellido</th>
        <th >Telefono</th>
        <th>Cargo</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let usuario of usuarios">
        <ng-container *ngIf="usuario.rolAsignado === 'RESPONSABLEAULA' ">
          <td>{{ usuario.email }}</td>
          <td>{{ usuario.username }}</td>
          <td>{{ usuario.nombre }}</td>
          <td>{{ usuario.apellido }}</td>
          <td>{{ usuario.telefono }}</td>
          <td>Responsable de aula</td>
          <td>
            <button (click)="verDetallesUsuario(usuario.id)" class="css-button-3d--blue">Editar</button>
            <button *ngIf="!usuario.confirmacionEliminacion" (click)="usuario.confirmacionEliminacion = true" class="css-button-3d--gray" style="margin-left: 10px">Eliminar</button>

            <div *ngIf="usuario.confirmacionEliminacion" class="confirmacion-eliminacion">
              <p>¿Estás seguro que deseas eliminar a {{ usuario.nombre }}?</p>
              <button (click)="eliminarUsuario(usuario.id); usuario.confirmacionEliminacion = false" class="css-button-3d--gray">Sí, eliminar</button>
              <button (click)="usuario.confirmacionEliminacion = false" class="css-button-3d--blue">Cancelar</button>
            </div>
          </td>
        </ng-container>
      </tr>
    </tbody>
  </table>
  </ng-container>

  <ng-container *ngIf="usuarioActual.rolAsignado === 'ADMIN' || usuarioActual.rolAsignado === 'VICERRECTOR' || usuarioActual.rolAsignado === 'RESPONSABLESEDE' || usuarioActual.rolAsignado === 'PSERVICIO'">

  <div class="contenedor">
  <p class="titulo-tabla">Estudiantes:</p>
    <div style="text-align: right"><button (click)="alternarTablaUsuario()" class="css-button-3d--blue--ocultar">Ocultar</button></div>
  </div>

  <table class="center" *ngIf="mostrarTablaUsuarios">
    <thead>
      <tr>
        <th >Correo electrónico</th>
        <th >Nombre de Usuario</th>
        <th >Nombre</th>
        <th >Apellido</th>
        <th >Telefono</th>
        <th >Rol Asignado</th>
        <th ></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let usuario of usuarios">
        <ng-container *ngIf="usuario.rolAsignado === 'NORMAL'">
          <td>{{ usuario.email }}</td>
          <td>{{ usuario.username }}</td>
          <td>{{ usuario.nombre }}</td>
          <td>{{ usuario.apellido }}</td>
          <td>{{ usuario.telefono }}</td>
          <td>{{ usuario.rolAsignado }}</td>
          <td>
            <button (click)="verDetallesUsuario(usuario.id)" class="css-button-3d--blue">Editar</button>
            <button *ngIf="!usuario.confirmacionEliminacion" (click)="usuario.confirmacionEliminacion = true" class="css-button-3d--gray" style="margin-left: 10px">Eliminar</button>

            <div *ngIf="usuario.confirmacionEliminacion" class="confirmacion-eliminacion">
              <p>¿Estás seguro que deseas eliminar a {{ usuario.nombre }}?</p>
              <button (click)="eliminarUsuario(usuario.id); usuario.confirmacionEliminacion = false" class="css-button-3d--gray">Sí, eliminar</button>
              <button (click)="usuario.confirmacionEliminacion = false" class="css-button-3d--blue">Cancelar</button>
            </div>
          </td>
        </ng-container>
      </tr>
    </tbody>
  </table>
  </ng-container>

  <ng-container *ngIf="usuarioActual.rolAsignado === 'RESPONSABLEAULA' ">
    <p>Tu asignación de aulas:</p>
  </ng-container>

  <ng-container *ngIf="usuarioActual.rolAsignado === 'VIGILANTEAULA' ">
    <p>Tu asignación de aulas:</p>
  </ng-container>

  <ng-container *ngIf="usuarioActual.rolAsignado === 'PSERVICIO' ">
    <p>Puede consultar el número de alumnos que han realizado exámenes por aula. Para ello la tabla examen podrá almacenar este dato o bien ser calculado.</p>
  </ng-container>
